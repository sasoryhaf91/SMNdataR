% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dl_daily_raw.R
\name{smn_dl_daily_raw}
\alias{smn_dl_daily_raw}
\title{Download Raw Daily Data for a Station (robust header detection)}
\usage{
smn_dl_daily_raw(
  station,
  add_meta_cols = FALSE,
  max_attempts = 10,
  encoding = "UTF-8"
)
}
\arguments{
\item{station}{Station code (character or numeric).}

\item{add_meta_cols}{Logical. If \code{TRUE}, includes \code{station} and \code{source_url}
as explicit columns in the returned data (default \code{FALSE} to keep the
original column schema). Metadata is always attached as attributes.}

\item{max_attempts}{Integer. Maximum retry attempts via \code{smn_int_handle_error}
(default \code{10}).}

\item{encoding}{Character. Encoding passed to \code{readLines()} (default \code{"UTF-8"}).}
}
\value{
A base \code{data.frame} with columns: \code{date}, \code{prec}, \code{evap}, \code{tmax}, \code{tmin}.
Attributes \code{station} and \code{source_url} are attached for provenance.
}
\description{
Downloads and parses the raw daily data file from SMN using the internal URL.
The function is resilient to changes in the header length by detecting the
first data row via a date pattern (\code{YYYY-MM-DD}) rather than assuming a fixed
number of header lines.
}
\examples{
\dontrun{
df <- smn_dl_daily_raw("15021")
attr(df, "source_url")
}

}
